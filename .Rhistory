stat_summary_bin(fun = "mean", bins = 1000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
facet_wrap(~ sector_name) +
coord_trans(y = "log10") +
ylim(c(0.1, 30)) +
# scale_y_continuous(trans='log10') +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 10000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
facet_wrap(~ sector_name) +
coord_trans(y = "log10") +
ylim(c(0.1, 30)) +
# scale_y_continuous(trans='log10') +
labs(x = "Estoque de capital humano",
y = "RCA")
?stat_summary_bin
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 5, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
facet_wrap(~ sector_name) +
coord_trans(y = "log10") +
ylim(c(0.1, 30)) +
# scale_y_continuous(trans='log10') +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
facet_wrap(~ sector_name) +
coord_trans(y = "log10") +
ylim(c(0.1, 30)) +
# scale_y_continuous(trans='log10') +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
labs(x = "Ãrea de terras agrÃ­colas",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0, 10))
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0, 10)) +
xlim(c(0, 10))
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 10)) +
xlim(c(0.1, 10))
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 10)) +
xlim(c(0.1, 1000))
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 10)) +
xlim(c(0.1, 10000))
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 10)) +
xlim(c(0.1, 100000))
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 10)) +
xlim(c(0.1, 1000000))
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 10)) +
xlim(c(0.1, 10000000))
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 10)) +
xlim(c(0.1, 100000))
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 30)) +
xlim(c(0.1, 100000))
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 30)) +
xlim(c(0.1, 100000)) +
labs(x = "Ãrea de terras agrÃ­colas",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 30)) +
xlim(c(0.1, 100000)) +
labs(x = "aea de terras agaolas",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 30)) +
xlim(c(0.1, 100000)) +
labs(x = "Área de terras agrícolas",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 30)) +
xlim(c(0.1, 10000)) +
labs(x = "Área de terras agrícolas",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 30)) +
xlim(c(0.1, 1000)) +
labs(x = "Área de terras agrícolas",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 30)) +
# xlim(c(0.1, 10000)) +
labs(x = "Área de terras agrícolas",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
# coord_trans(y = "log10") +
scale_y_continuous(breaks = lab, labels = names) +
# ylim(c(0.1, 30)) +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
# coord_trans(y = "log10") +
scale_y_continuous(breaks = log(c(0.01, 1.01, 5.01, 10.01, 20.01, 50.01)), labels = names) +
# ylim(c(0.1, 30)) +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
# coord_trans(y = "log10") +
scale_y_continuous(breaks = log(c(0.01, 1.01, 5.01, 10.01, 20.01, 50.01)), labels = c(0,1,5,10,20,50 )) +
# ylim(c(0.1, 30)) +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
# coord_trans(y = "log10") +
scale_y_continuous(breaks = log(c(0.01, 1.01, 5.01, 10.01, 20.01, 50.01)), labels = c(0,1,5,10,20,50)) +
# ylim(c(0.1, 30)) +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
# coord_trans(y = "log10") +
scale_y_continuous(
breaks = log(c(0.1,2,4,8,16,32, 64, 128, 256)),
labels = c(0,2,4,8,16,32, 64, 128, 256)) +
# ylim(c(0.1, 30)) +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
# coord_trans(y = "log10") +
scale_y_continuous(
breaks = log(c(0.1,2,4,8,16,32, 64, 128, 256, 512)),
labels = c(0,2,4,8,16,32, 64, 128, 256, 512)) +
# ylim(c(0.1, 30)) +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10") +
scale_y_continuous(
breaks = log(c(0.1,2,4,8,16,32, 64, 128, 256, 512)),
labels = c(0,2,4,8,16,32, 64, 128, 256, 512)) +
# ylim(c(0.1, 30)) +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10") +
scale_y_continuous(
breaks = log(c(0.1,2,4,8,16,32, 64, 128, 256, 512)),
labels = c(0,2,4,8,16,32, 64, 128, 256, 512)) +
ylim(c(0.1, 30)) +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10") +
ylim(c(0.1, 30)) +
labs(x = "Estoque de capital humano",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 30)) +
# xlim(c(0.1, 10000)) +
labs(x = "Área de terras agrícolas",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 30)) +
# xlim(c(0.1, 10000)) +
labs(x = "Área de terras agrícolas",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
# stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
geom_point(alpha = .2) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 30)) +
# xlim(c(0.1, 10000)) +
labs(x = "Área de terras agrícolas",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
# stat_summary_bin(fun = "mean", bins = 100000, geom = "point", alpha = 0.75) +
geom_point(alpha = .2) +
facet_wrap(~ sector_name) +
geom_smooth(method = "lm", color = "#C6151D", se = F) +
coord_trans(y = "log10", x = "log10") +
facet_wrap(~ sector_name) +
ylim(c(0.1, 200)) +
# xlim(c(0.1, 10000)) +
labs(x = "Área de terras agrícolas",
y = "RCA")
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
scale_y_continuous(trans='log10') +
scale_x_continuous(trans='log10') +
stat_summary_bin(fun = "mean", bins = 1000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D") +
facet_wrap(~ sector_name) +
labs(x = "Área de terras agrícolas",
y = "RCA")
## E) ----
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
scale_y_continuous(trans='log10') +
stat_summary_bin(fun = "mean", bins = 1000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D") +
facet_wrap(~ sector_name) +
labs(x = "Estoque de capital humano",
y = "RCA")
ggsave('plots/rca_hc.png', dpi = 600, height = 10, width = 16, unit = 'cm', bg = 'white')
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
scale_y_continuous(trans='log10') +
scale_x_continuous(trans='log10') +
stat_summary_bin(fun = "mean", bins = 1000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D") +
facet_wrap(~ sector_name) +
labs(x = "Área de terras agrícolas",
y = "RCA")
ggsave('plots/rca_land.png', dpi = 600, height = 10, width = 16, unit = 'cm', bg = 'white')
df %>%
filter(!is.na(capital_stock_constant), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = capital_stock_constant, y = RCA)) +
scale_y_continuous(trans='log10') +
scale_x_continuous(trans='log10') +
stat_summary_bin(fun = "mean", bins = 1000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D") +
facet_wrap(~ sector_name) +
labs(x = "Estoque de capital a preços nacionais correntes (milhões 2017US$)",
y = "RCA")
ggsave('plots/rca_k_constant.png', dpi = 600, height = 10, width = 16, unit = 'cm', bg = 'white')
df %>%
filter(!is.na(capital_stock_ppp), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = capital_stock_ppp, y = RCA)) +
scale_y_continuous(trans='log10') +
scale_x_continuous(trans='log10') +
stat_summary_bin(fun = "mean", bins = 1000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D") +
facet_wrap(~ sector_name) +
labs(x = "Estoque de capital corrigidos pela PPP (mil. 2017US$)",
y = "RCA")
ggsave('plots/rca_k_ppp.png', dpi = 600, height = 10, width = 16, unit = 'cm', bg = 'white')
ggsave('plots/rca_hc.png', dpi = 600, height = 14, width = 21, unit = 'cm', bg = 'white')
## E) ----
df %>%
filter(!is.na(human_capital_index), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = human_capital_index, y = RCA)) +
scale_y_continuous(trans='log10') +
stat_summary_bin(fun = "mean", bins = 1000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D") +
facet_wrap(~ sector_name) +
labs(x = "Estoque de capital humano",
y = "RCA")
ggsave('plots/rca_hc.png', dpi = 600, height = 14, width = 21, unit = 'cm', bg = 'white')
df %>%
filter(!is.na(agricultural_land_area), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = agricultural_land_area, y = RCA)) +
scale_y_continuous(trans='log10') +
scale_x_continuous(trans='log10') +
stat_summary_bin(fun = "mean", bins = 1000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D") +
facet_wrap(~ sector_name) +
labs(x = "Área de terras agrícolas",
y = "RCA")
ggsave('plots/rca_land.png', dpi = 600, height = 14, width = 21, unit = 'cm', bg = 'white')
df %>%
filter(!is.na(capital_stock_constant), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = capital_stock_constant, y = RCA)) +
scale_y_continuous(trans='log10') +
scale_x_continuous(trans='log10') +
stat_summary_bin(fun = "mean", bins = 1000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D") +
facet_wrap(~ sector_name) +
labs(x = "Estoque de capital a preços nacionais correntes (milhões 2017US$)",
y = "RCA")
ggsave('plots/rca_k_constant.png', dpi = 600, height = 14, width = 21, unit = 'cm', bg = 'white')
df %>%
filter(!is.na(capital_stock_ppp), !is.na(RCA), RCA != 0, year == 2016) %>%
ggplot(aes(x = capital_stock_ppp, y = RCA)) +
scale_y_continuous(trans='log10') +
scale_x_continuous(trans='log10') +
stat_summary_bin(fun = "mean", bins = 1000, geom = "point", alpha = 0.75) +
geom_smooth(method = "lm", color = "#C6151D") +
facet_wrap(~ sector_name) +
labs(x = "Estoque de capital corrigidos pela PPP (mil. 2017US$)",
y = "RCA")
ggsave('plots/rca_k_ppp.png', dpi = 600, height = 14, width = 21, unit = 'cm', bg = 'white')
## F) ----
itpd.d %>%
filter(!is.na(renda)) %>%
ggplot() +
geom_histogram(aes(GL, y = ..density..), alpha = 0.5, color = "grey") +
geom_density(aes(GL), color = "#C6151D", lwd = 1) +
facet_grid(rows = vars(setor), cols = vars(renda)) +
theme_bw()
ggsave('plots/gl.png', dpi = 600, height = 14, width = 21, unit = 'cm', bg = 'white')
## D) e E) ----
itpd.d <- itpd.b %>%
mutate(setor = ifelse(broad_sector == 4, "Serviços", "Não-serviços"),
renda = ifelse(income_group == "High income", "Renda alta", "Renda não-alta")) %>%
select(exporter_iso3, industry_id, GL = GL_ij, setor, renda)
## F) ----
itpd.d %>%
filter(!is.na(renda)) %>%
ggplot() +
geom_histogram(aes(GL, y = ..density..), alpha = 0.5, color = "grey") +
geom_density(aes(GL), color = "#C6151D", lwd = 1) +
facet_grid(rows = vars(setor), cols = vars(renda)) +
theme_bw()
## F) ----
itpd.d %>%
filter(!is.na(renda)) %>%
ggplot() +
geom_histogram(aes(GL, y = ..density..), alpha = 0.5, color = "grey") +
geom_density(aes(GL), color = "#C6151D", lwd = 1) +
facet_grid(rows = vars(setor), cols = vars(renda)) +
theme_bw() +
labs(x = "Índice de Grubel-Lloyd", y = "Densidade de probabilidade")
ggsave('plots/gl.png', dpi = 600, height = 14, width = 21, unit = 'cm', bg = 'white')
itpd.d %>%
write.csv(., file = "relatorios/tabela_ex5.csv")
